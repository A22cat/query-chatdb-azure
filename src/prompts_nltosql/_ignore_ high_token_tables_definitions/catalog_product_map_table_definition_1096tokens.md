## テーブル定義書

- テーブルID: catalog_product_map
- テーブル名称: カタログ商品マッピング


## カラム定義

| No | PK | UK | カラム名称<br>(項目名称) | カラム名<br>(項目ID)   | データ型   | 桁数 | 小数部 | NULL許可 | 初期値         | 備考                                |
|----|----|----|-------------------------|-----------------------|------------|------|--------|----------|----------------|-------------------------------------|
| 1  | 1  |    | 会社ID                  | corp_id               | INT        | -    | -      | ×        | 0              | corp_id, cat_map_idの複合主キー     |
| 2  | 2  |    | カタログマッピングID    | cat_map_id            | INT        | -    | -      | ×        | IDENTITY(1,1)   | 自動採番                             |
| 3  |    |    | カタログID              | catalog_id            | INT        | -    | -      | ×        |                | catalog_mst 外部キー                |
| 4  |    |    | 製品ID                  | product_id            | INT        | -    | -      | ×        |                | product_mst 外部キー                |
| 5  |    |    | 表示順                  | display_order         | INT        | -    | -      | ○        | NULL           | 並び順指定                           |
| 6  |    |    | ページ番号              | page_number           | INT        | -    | -      | ○        | NULL           | カタログ掲載ページ                   |
| 7  |    |    | 強調フラグ              | highlight_flag        | BIT        | -    | -      | ×        | 0              | 1: 強調, 0: 通常                     |
| 8  |    |    | 割引率                  | discount_rate         | DECIMAL    | 5    | 2      | ○        | NULL           | 掲載時の特価等                       |
| 9  |    |    | 掲載開始日              | start_date            | DATE       | -    | -      | ○        | NULL           |                                     |
| 10 |    |    | 掲載終了日              | end_date              | DATE       | -    | -      | ○        | NULL           |                                     |
| 11 |    |    | 登録者                  | created_by            | NVARCHAR   | 50   | -      | ×        | SYSTEM         | APIまたはユーザー名                  |
| 12 |    |    | 登録日時                | created_at            | DATETIME   | -    | -      | ×        | GETDATE()      | 登録時刻自動設定                     |


## インデックス・制約

- **主キー（PK）**：corp_id, cat_map_id（複合主キー）
- **外部キー（FK）**：
    - catalog_id → catalog_mst
    - product_id → product_mst


# テーブルの実データ例（主要な選択肢パターンを網羅）

| corp_id | cat_map_id | catalog_id | product_id | display_order | page_number | highlight_flag | discount_rate | start_date   | end_date     | created_by | created_at              |
|---------|------------|------------|------------|---------------|-------------|---------------|--------------|--------------|--------------|------------|-------------------------|
| 1       | 21         | 1          | 1          | 1             | 1           | 1             | 10.00        | 2025-06-01   | 2025-06-30   | SYSTEM     | 2025-05-15 07:30:13.710 |
| 1       | 22         | 1          | 2          | 2             | 1           | 0             | 5.00         | 2025-06-05   | 2025-06-25   | SYSTEM     | 2025-05-15 07:30:13.710 |
| 1       | 23         | 1          | 3          | 3             | 1           | 0             | NULL         | 2025-06-10   | 2025-07-10   | SYSTEM     | 2025-05-15 07:30:13.710 |
| 1       | 24         | 2          | 4          | 1             | 2           | 1             | 15.00        | 2025-06-15   | 2025-07-15   | USER1      | 2025-05-15 07:30:13.710 |

---

## 主な選択肢パターン

- **highlight_flag**: 0（通常）, 1（強調）